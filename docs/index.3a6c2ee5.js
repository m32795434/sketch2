let e;async function t(e){return new Promise(t=>{setTimeout(t,e)})}const n=document.querySelector("#etch-a-sketch"),o=n.getContext("2d"),r=document.querySelector(".shake"),a=document.querySelector('input[type="range"]'),i=document.querySelector("#random-color"),s=document.querySelector("#shapes-select");let l=0;const{width:u,height:c}=n;o.strokeStyle=`hsl(${360*Math.random()}, 100%, 50%)`,i.value="on",s.value="round";let d=Math.floor(Math.random()*u),h=Math.floor(Math.random()*c);o.lineJoin="round",o.lineCap="round",o.lineWidth=40,o.beginPath(),o.moveTo(d,h),o.lineTo(d,h),o.stroke();let f=!1;function v(e){l=e?e.target.value:a.value}function m(e,t){"on"===i.value&&(o.strokeStyle=`hsl(${360*Math.random()}, 100%, 50%)`),o.beginPath(),o.moveTo(e,t),o.lineTo(e,t),o.lineWidth=40*l,o.stroke()}function y(e,t,o){if(e.preventDefault(),"mousemove"===e.type&&!f)return;if(o&&t&&([d,h]=[t,o]),e instanceof TouchEvent){if("touchstart"===e.type)f=!0;else if("touchend"===e.type||"touchcancel"===e.type){f=!1;return}d=e.touches[0].clientX-n.offsetLeft,h=e.touches[0].clientY-n.offsetTop}let r=window.visualViewport.width;r>=1024&&r<=1280?m(2.7368*d,2.6666*h):r>=844&&r<1023?m(3.2911*d,4*h):r<=843?m(4.3333*d,4*h):m(2*d,2*h)}async function p(){if(e=document.querySelector("#picker")){L(e);let t=e.shadowRoot.querySelector("button");t.style.cssText+="transition: width .5s linear; width: 10vw;"}else if(await t(3e3),e=document.querySelector("#picker")){L(e);let t=e.shadowRoot.querySelector("button");t.style.cssText+="transition: width .5s linear; width: 10vw;"}else alert("Sorry\uD83D\uDE15. Color picker not available!")}function L(e){e.addEventListener("change",e=>{i.value="off",o.strokeStyle=e.detail.hsl})}n.addEventListener("mousedown",e=>{f=!0,y(e,e.offsetX,e.offsetY)}),n.addEventListener("mousemove",e=>y(e,e.offsetX,e.offsetY)),n.addEventListener("mouseup",()=>{f=!1}),n.addEventListener("mouseout",()=>{f=!1}),n.addEventListener("touchstart",e=>y(e)),n.addEventListener("touchmove",e=>{y(e),e.preventDefault()}),n.addEventListener("touchend",e=>y(e)),n.addEventListener("touchcancel",e=>y(e)),a.addEventListener("input",v),s.addEventListener("input",e=>{let t=e.currentTarget.value;console.log("shape:",t),o.lineCap=`${t}`,o.lineJoin=`${t}`}),i.addEventListener("input",t=>{let n=t.currentTarget.value;"off"===n&&(e.color=o.strokeStyle)}),r.addEventListener("click",function(){n.classList.add("shake"),o.clearRect(0,0,u,c),n.addEventListener("animationend",()=>{n.classList.remove("shake")},{once:!0})}),v(),p();
//# sourceMappingURL=index.3a6c2ee5.js.map
